# En services/country_config.py, a침adir el campo 'flag' a cada pa칤s:

COUNTRY_MAPPING = {
    'esp': {
        'name': 'Espa침a',
        'flag': '游쀯릖',
        'gsc_code': 'esp',
        'serp_location': 'Madrid, Spain',
        'serp_gl': 'es',
        'serp_hl': 'es',
        'google_domain': 'google.es'
    },
    'usa': {
        'name': 'Estados Unidos',
        'flag': '游쥟릖',
        'gsc_code': 'usa', 
        'serp_location': 'New York, United States',
        'serp_gl': 'us',
        'serp_hl': 'en',
        'google_domain': 'google.com'
    },
    'mex': {
        'name': 'M칠xico',
        'flag': '游쓇릖',
        'gsc_code': 'mex',
        'serp_location': 'Mexico City, Mexico', 
        'serp_gl': 'mx',
        'serp_hl': 'es',
        'google_domain': 'google.com.mx'
    },
    # NUEVOS pa칤ses latinoamericanos que faltaban:
    'col': {
        'name': 'Colombia',
        'flag': '游뻟릖',
        'gsc_code': 'col',
        'serp_location': 'Bogot치, Colombia',
        'serp_gl': 'co',
        'serp_hl': 'es',
        'google_domain': 'google.com.co'
    },
    'per': {
        'name': 'Per칰',
        'flag': '游왫릖',
        'gsc_code': 'per',
        'serp_location': 'Lima, Peru',
        'serp_gl': 'pe',
        'serp_hl': 'es',
        'google_domain': 'google.com.pe'
    },
    'chl': {
        'name': 'Chile',
        'flag': '游뻟릖',
        'gsc_code': 'chl',
        'serp_location': 'Santiago, Chile',
        'serp_gl': 'cl',
        'serp_hl': 'es',
        'google_domain': 'google.cl'
    },
    'ven': {
        'name': 'Venezuela',
        'flag': '游游',
        'gsc_code': 'ven',
        'serp_location': 'Caracas, Venezuela',
        'serp_gl': 've',
        'serp_hl': 'es',
        'google_domain': 'google.co.ve'
    },
    'ecu': {
        'name': 'Ecuador',
        'flag': '游쀯릖',
        'gsc_code': 'ecu',
        'serp_location': 'Quito, Ecuador',
        'serp_gl': 'ec',
        'serp_hl': 'es',
        'google_domain': 'google.com.ec'
    },
    'dom': {
        'name': 'Rep칰blica Dominicana',
        'flag': '游뾇릖',
        'gsc_code': 'dom',
        'serp_location': 'Santo Domingo, Dominican Republic',
        'serp_gl': 'do',
        'serp_hl': 'es',
        'google_domain': 'google.com.do'
    },
    'bol': {
        'name': 'Bolivia',
        'flag': '游游',
        'gsc_code': 'bol',
        'serp_location': 'La Paz, Bolivia',
        'serp_gl': 'bo',
        'serp_hl': 'es',
        'google_domain': 'google.com.bo'
    },
    'gtm': {
        'name': 'Guatemala',
        'flag': '游섫릖',
        'gsc_code': 'gtm',
        'serp_location': 'Guatemala City, Guatemala',
        'serp_gl': 'gt',
        'serp_hl': 'es',
        'google_domain': 'google.com.gt'
    },
    'cri': {
        'name': 'Costa Rica',
        'flag': '游뻟릖',
        'gsc_code': 'cri',
        'serp_location': 'San Jos칠, Costa Rica',
        'serp_gl': 'cr',
        'serp_hl': 'es',
        'google_domain': 'google.co.cr'
    },
    'cub': {
        'name': 'Cuba',
        'flag': '游뻟릖',
        'gsc_code': 'cub',
        'serp_location': 'Havana, Cuba',
        'serp_gl': 'cu',
        'serp_hl': 'es',
        'google_domain': 'google.com.cu'
    },
    'hnd': {
        'name': 'Honduras',
        'flag': '游쇓릖',
        'gsc_code': 'hnd',
        'serp_location': 'Tegucigalpa, Honduras',
        'serp_gl': 'hn',
        'serp_hl': 'es',
        'google_domain': 'google.hn'
    },
    'ury': {
        'name': 'Uruguay',
        'flag': '游쥟릖',
        'gsc_code': 'ury',
        'serp_location': 'Montevideo, Uruguay',
        'serp_gl': 'uy',
        'serp_hl': 'es',
        'google_domain': 'google.com.uy'
    },
    'pry': {
        'name': 'Paraguay',
        'flag': '游왫릖',
        'gsc_code': 'pry',
        'serp_location': 'Asunci칩n, Paraguay',
        'serp_gl': 'py',
        'serp_hl': 'es',
        'google_domain': 'google.com.py'
    },
    'slv': {
        'name': 'El Salvador',
        'flag': '游젏릖',
        'gsc_code': 'slv',
        'serp_location': 'San Salvador, El Salvador',
        'serp_gl': 'sv',
        'serp_hl': 'es',
        'google_domain': 'google.com.sv'
    },
    'pan': {
        'name': 'Panam치',
        'flag': '游왫릖',
        'gsc_code': 'pan',
        'serp_location': 'Panama City, Panama',
        'serp_gl': 'pa',
        'serp_hl': 'es',
        'google_domain': 'google.com.pa'
    },
    'nic': {
        'name': 'Nicaragua',
        'flag': '游游',
        'gsc_code': 'nic',
        'serp_location': 'Managua, Nicaragua',
        'serp_gl': 'ni',
        'serp_hl': 'es',
        'google_domain': 'google.com.ni'
    },
    'pri': {
        'name': 'Puerto Rico',
        'flag': '游왫릖',
        'gsc_code': 'pri',
        'serp_location': 'San Juan, Puerto Rico',
        'serp_gl': 'pr',
        'serp_hl': 'es',
        'google_domain': 'google.com.pr'
    },
    'fra': {
        'name': 'Francia',
        'flag': '游游',
        'gsc_code': 'fra',
        'serp_location': 'Paris, France',
        'serp_gl': 'fr', 
        'serp_hl': 'fr',
        'google_domain': 'google.fr'
    },
    'deu': {
        'name': 'Alemania',
        'flag': '游뾇릖',
        'gsc_code': 'deu',
        'serp_location': 'Berlin, Germany',
        'serp_gl': 'de',
        'serp_hl': 'de', 
        'google_domain': 'google.de'
    },
    'gbr': {
        'name': 'Reino Unido',
        'flag': '游섫릖',
        'gsc_code': 'gbr',
        'serp_location': 'London, United Kingdom',
        'serp_gl': 'uk',
        'serp_hl': 'en',
        'google_domain': 'google.co.uk'
    },
    'ita': {
        'name': 'Italia',
        'flag': '游쉻릖',
        'gsc_code': 'ita',
        'serp_location': 'Rome, Italy',
        'serp_gl': 'it',
        'serp_hl': 'it',
        'google_domain': 'google.it'
    },
    'can': {
        'name': 'Canad치',
        'flag': '游뻟릖',
        'gsc_code': 'can',
        'serp_location': 'Toronto, Canada',
        'serp_gl': 'ca',
        'serp_hl': 'en',
        'google_domain': 'google.ca'
    },
    'bra': {
        'name': 'Brasil',
        'flag': '游游',
        'gsc_code': 'bra',
        'serp_location': 'S칚o Paulo, Brazil',
        'serp_gl': 'br',
        'serp_hl': 'pt',
        'google_domain': 'google.com.br'
    },
    'chn': {
        'name': 'China',
        'flag': '游뻟릖',
        'gsc_code': 'chn',
        'serp_location': 'Beijing, China',
        'serp_gl': 'cn',
        'serp_hl': 'zh-CN',
        'google_domain': 'google.com.hk'
    },
    'ind': {
        'name': 'India',
        'flag': '游쉻릖',
        'gsc_code': 'ind',
        'serp_location': 'New Delhi, India',
        'serp_gl': 'in',
        'serp_hl': 'en',
        'google_domain': 'google.co.in'
    },
    'jpn': {
        'name': 'Jap칩n',
        'flag': '游游',
        'gsc_code': 'jpn',
        'serp_location': 'Tokyo, Japan',
        'serp_gl': 'jp',
        'serp_hl': 'ja',
        'google_domain': 'google.co.jp'
    },
    'rus': {
        'name': 'Rusia',
        'flag': '游游',
        'gsc_code': 'rus',
        'serp_location': 'Moscow, Russia',
        'serp_gl': 'ru',
        'serp_hl': 'ru',
        'google_domain': 'google.ru'
    },
    'aus': {
        'name': 'Australia',
        'flag': '游뷣릖',
        'gsc_code': 'aus',
        'serp_location': 'Sydney, Australia',
        'serp_gl': 'au',
        'serp_hl': 'en',
        'google_domain': 'google.com.au'
    },
    'idn': {
        'name': 'Indonesia',
        'flag': '游쉻릖',
        'gsc_code': 'idn',
        'serp_location': 'Jakarta, Indonesia',
        'serp_gl': 'id',
        'serp_hl': 'id',
        'google_domain': 'google.co.id'
    },
    'kor': {
        'name': 'Corea del Sur',
        'flag': '游썷릖',
        'gsc_code': 'kor',
        'serp_location': 'Seoul, South Korea',
        'serp_gl': 'kr',
        'serp_hl': 'ko',
        'google_domain': 'google.co.kr'
    },
    'tur': {
        'name': 'Turqu칤a',
        'flag': '游좷릖',
        'gsc_code': 'tur',
        'serp_location': 'Istanbul, Turkey',
        'serp_gl': 'tr',
        'serp_hl': 'tr',
        'google_domain': 'google.com.tr'
    },
    'sau': {
        'name': 'Arabia Saudita',
        'flag': '游젏릖',
        'gsc_code': 'sau',
        'serp_location': 'Riyadh, Saudi Arabia',
        'serp_gl': 'sa',
        'serp_hl': 'ar',
        'google_domain': 'google.com.sa'
    },
    'arg': {
        'name': 'Argentina',
        'flag': '游뷣릖',
        'gsc_code': 'arg',
        'serp_location': 'Buenos Aires, Argentina',
        'serp_gl': 'ar',
        'serp_hl': 'es',
        'google_domain': 'google.com.ar'
    },
    'nld': {
        'name': 'Pa칤ses Bajos',
        'flag': '游游',
        'gsc_code': 'nld',
        'serp_location': 'Amsterdam, Netherlands',
        'serp_gl': 'nl',
        'serp_hl': 'nl',
        'google_domain': 'google.nl'
    },
    'che': {
        'name': 'Suiza',
        'flag': '游뻟릖',
        'gsc_code': 'che',
        'serp_location': 'Bern, Switzerland',
        'serp_gl': 'ch',
        'serp_hl': 'de',
        'google_domain': 'google.ch'
    },
    'pol': {
        'name': 'Polonia',
        'flag': '游왫릖',
        'gsc_code': 'pol',
        'serp_location': 'Warsaw, Poland',
        'serp_gl': 'pl',
        'serp_hl': 'pl',
        'google_domain': 'google.pl'
    },
    'bel': {
        'name': 'B칠lgica',
        'flag': '游游',
        'gsc_code': 'bel',
        'serp_location': 'Brussels, Belgium',
        'serp_gl': 'be',
        'serp_hl': 'fr',
        'google_domain': 'google.be'
    },
    'swe': {
        'name': 'Suecia',
        'flag': '游젏릖',
        'gsc_code': 'swe',
        'serp_location': 'Stockholm, Sweden',
        'serp_gl': 'se',
        'serp_hl': 'sv',
        'google_domain': 'google.se'
    },
    'aut': {
        'name': 'Austria',
        'flag': '游뷣릖',
        'gsc_code': 'aut',
        'serp_location': 'Vienna, Austria',
        'serp_gl': 'at',
        'serp_hl': 'de',
        'google_domain': 'google.at'
    },
    'tha': {
        'name': 'Tailandia',
        'flag': '游좷릖',
        'gsc_code': 'tha',
        'serp_location': 'Bangkok, Thailand',
        'serp_gl': 'th',
        'serp_hl': 'th',
        'google_domain': 'google.co.th'
    },
    'isr': {
        'name': 'Israel',
        'flag': '游쉻릖',
        'gsc_code': 'isr',
        'serp_location': 'Jerusalem, Israel',
        'serp_gl': 'il',
        'serp_hl': 'he',
        'google_domain': 'google.co.il'
    },
    'are': {
        'name': 'Emiratos 츼rabes Unidos',
        'flag': '游뷣릖',
        'gsc_code': 'are',
        'serp_location': 'Dubai, United Arab Emirates',
        'serp_gl': 'ae',
        'serp_hl': 'en',
        'google_domain': 'google.ae'
    },
    'sgp': {
        'name': 'Singapur',
        'flag': '游젏릖',
        'gsc_code': 'sgp',
        'serp_location': 'Singapore, Singapore',
        'serp_gl': 'sg',
        'serp_hl': 'en',
        'google_domain': 'google.com.sg'
    },
    'zaf': {
        'name': 'Sud치frica',
        'flag': '游游',
        'gsc_code': 'zaf',
        'serp_location': 'Cape Town, South Africa',
        'serp_gl': 'za',
        'serp_hl': 'en',
        'google_domain': 'google.co.za'
    }
}

# ===== Europa - pa칤ses adicionales =====
COUNTRY_MAPPING.update({
    'prt': {
        'name': 'Portugal', 'flag': '游왫릖', 'gsc_code': 'prt',
        'serp_location': 'Lisbon, Portugal', 'serp_gl': 'pt', 'serp_hl': 'pt', 'google_domain': 'google.pt'
    },
    'irl': {
        'name': 'Irlanda', 'flag': '游쉻릖', 'gsc_code': 'irl',
        'serp_location': 'Dublin, Ireland', 'serp_gl': 'ie', 'serp_hl': 'en', 'google_domain': 'google.ie'
    },
    'nor': {
        'name': 'Noruega', 'flag': '游游', 'gsc_code': 'nor',
        'serp_location': 'Oslo, Norway', 'serp_gl': 'no', 'serp_hl': 'no', 'google_domain': 'google.no'
    },
    'dnk': {
        'name': 'Dinamarca', 'flag': '游뾇릖', 'gsc_code': 'dnk',
        'serp_location': 'Copenhagen, Denmark', 'serp_gl': 'dk', 'serp_hl': 'da', 'google_domain': 'google.dk'
    },
    'fin': {
        'name': 'Finlandia', 'flag': '游游', 'gsc_code': 'fin',
        'serp_location': 'Helsinki, Finland', 'serp_gl': 'fi', 'serp_hl': 'fi', 'google_domain': 'google.fi'
    },
    'cyp': {
        'name': 'Chipre', 'flag': '游뻟릖', 'gsc_code': 'cyp',
        'serp_location': 'Nicosia, Cyprus', 'serp_gl': 'cy', 'serp_hl': 'el', 'google_domain': 'google.com.cy'
    },
    'alb': {
        'name': 'Albania', 'flag': '游뷣릖', 'gsc_code': 'alb',
        'serp_location': 'Tirana, Albania', 'serp_gl': 'al', 'serp_hl': 'sq', 'google_domain': 'google.al'
    },
    'and': {
        'name': 'Andorra', 'flag': '游뷣릖', 'gsc_code': 'and',
        'serp_location': 'Andorra la Vella, Andorra', 'serp_gl': 'ad', 'serp_hl': 'ca', 'google_domain': 'google.ad'
    },
    'arm': {
        'name': 'Armenia', 'flag': '游뷣릖', 'gsc_code': 'arm',
        'serp_location': 'Yerevan, Armenia', 'serp_gl': 'am', 'serp_hl': 'hy', 'google_domain': 'google.am'
    },
    'aze': {
        'name': 'Azerbaiy치n', 'flag': '游뷣릖', 'gsc_code': 'aze',
        'serp_location': 'Baku, Azerbaijan', 'serp_gl': 'az', 'serp_hl': 'az', 'google_domain': 'google.az'
    },
    'blr': {
        'name': 'Bielorrusia', 'flag': '游游', 'gsc_code': 'blr',
        'serp_location': 'Minsk, Belarus', 'serp_gl': 'by', 'serp_hl': 'be', 'google_domain': 'google.by'
    },
    'bih': {
        'name': 'Bosnia y Herzegovina', 'flag': '游游', 'gsc_code': 'bih',
        'serp_location': 'Sarajevo, Bosnia and Herzegovina', 'serp_gl': 'ba', 'serp_hl': 'bs', 'google_domain': 'google.ba'
    },
    'hrv': {
        'name': 'Croacia', 'flag': '游쇓릖', 'gsc_code': 'hrv',
        'serp_location': 'Zagreb, Croatia', 'serp_gl': 'hr', 'serp_hl': 'hr', 'google_domain': 'google.hr'
    },
    'est': {
        'name': 'Estonia', 'flag': '游쀯릖', 'gsc_code': 'est',
        'serp_location': 'Tallinn, Estonia', 'serp_gl': 'ee', 'serp_hl': 'et', 'google_domain': 'google.ee'
    },
    'geo': {
        'name': 'Georgia', 'flag': '游섫릖', 'gsc_code': 'geo',
        'serp_location': 'Tbilisi, Georgia', 'serp_gl': 'ge', 'serp_hl': 'ka', 'google_domain': 'google.ge'
    },
    'isl': {
        'name': 'Islandia', 'flag': '游쉻릖', 'gsc_code': 'isl',
        'serp_location': 'Reykjavik, Iceland', 'serp_gl': 'is', 'serp_hl': 'is', 'google_domain': 'google.is'
    },
    'kaz': {
        'name': 'Kazajist치n', 'flag': '游썷릖', 'gsc_code': 'kaz',
        'serp_location': 'Astana, Kazakhstan', 'serp_gl': 'kz', 'serp_hl': 'kk', 'google_domain': 'google.kz'
    },
    'xkx': {
        'name': 'Kosovo', 'flag': '游쬃릖', 'gsc_code': 'xkx',
        'serp_location': 'Pristina, Kosovo', 'serp_gl': 'xk', 'serp_hl': 'sq', 'google_domain': 'google.com'
    },
    'lva': {
        'name': 'Letonia', 'flag': '游쐟릖', 'gsc_code': 'lva',
        'serp_location': 'Riga, Latvia', 'serp_gl': 'lv', 'serp_hl': 'lv', 'google_domain': 'google.lv'
    },
    'lie': {
        'name': 'Liechtenstein', 'flag': '游쐟릖', 'gsc_code': 'lie',
        'serp_location': 'Vaduz, Liechtenstein', 'serp_gl': 'li', 'serp_hl': 'de', 'google_domain': 'google.li'
    },
    'ltu': {
        'name': 'Lituania', 'flag': '游쐟릖', 'gsc_code': 'ltu',
        'serp_location': 'Vilnius, Lithuania', 'serp_gl': 'lt', 'serp_hl': 'lt', 'google_domain': 'google.lt'
    },
    'lux': {
        'name': 'Luxemburgo', 'flag': '游쐟릖', 'gsc_code': 'lux',
        'serp_location': 'Luxembourg, Luxembourg', 'serp_gl': 'lu', 'serp_hl': 'fr', 'google_domain': 'google.lu'
    },
    'mkd': {
        'name': 'Macedonia del Norte', 'flag': '游쓇릖', 'gsc_code': 'mkd',
        'serp_location': 'Skopje, North Macedonia', 'serp_gl': 'mk', 'serp_hl': 'mk', 'google_domain': 'google.mk'
    },
    'mlt': {
        'name': 'Malta', 'flag': '游쓇릖', 'gsc_code': 'mlt',
        'serp_location': 'Valletta, Malta', 'serp_gl': 'mt', 'serp_hl': 'mt', 'google_domain': 'google.com.mt'
    },
    'mda': {
        'name': 'Moldavia', 'flag': '游쓇릖', 'gsc_code': 'mda',
        'serp_location': 'Chisinau, Moldova', 'serp_gl': 'md', 'serp_hl': 'ro', 'google_domain': 'google.md'
    },
    'mco': {
        'name': 'M칩naco', 'flag': '游쓇릖', 'gsc_code': 'mco',
        'serp_location': 'Monaco, Monaco', 'serp_gl': 'mc', 'serp_hl': 'fr', 'google_domain': 'google.mc'
    },
    'mne': {
        'name': 'Montenegro', 'flag': '游쓇릖', 'gsc_code': 'mne',
        'serp_location': 'Podgorica, Montenegro', 'serp_gl': 'me', 'serp_hl': 'sr', 'google_domain': 'google.me'
    },
    'rou': {
        'name': 'Ruman칤a', 'flag': '游游', 'gsc_code': 'rou',
        'serp_location': 'Bucharest, Romania', 'serp_gl': 'ro', 'serp_hl': 'ro', 'google_domain': 'google.ro'
    },
    'smr': {
        'name': 'San Marino', 'flag': '游젏릖', 'gsc_code': 'smr',
        'serp_location': 'San Marino, San Marino', 'serp_gl': 'sm', 'serp_hl': 'it', 'google_domain': 'google.sm'
    },
    'srb': {
        'name': 'Serbia', 'flag': '游游', 'gsc_code': 'srb',
        'serp_location': 'Belgrade, Serbia', 'serp_gl': 'rs', 'serp_hl': 'sr', 'google_domain': 'google.rs'
    },
    'svk': {
        'name': 'Eslovaquia', 'flag': '游젏릖', 'gsc_code': 'svk',
        'serp_location': 'Bratislava, Slovakia', 'serp_gl': 'sk', 'serp_hl': 'sk', 'google_domain': 'google.sk'
    },
    'svn': {
        'name': 'Eslovenia', 'flag': '游젏릖', 'gsc_code': 'svn',
        'serp_location': 'Ljubljana, Slovenia', 'serp_gl': 'si', 'serp_hl': 'sl', 'google_domain': 'google.si'
    },
    'ukr': {
        'name': 'Ucrania', 'flag': '游쥟릖', 'gsc_code': 'ukr',
        'serp_location': 'Kyiv, Ukraine', 'serp_gl': 'ua', 'serp_hl': 'uk', 'google_domain': 'google.com.ua'
    },
    'vat': {
        'name': 'Ciudad del Vaticano', 'flag': '游游', 'gsc_code': 'vat',
        'serp_location': 'Vatican City, Vatican', 'serp_gl': 'va', 'serp_hl': 'it', 'google_domain': 'google.it'
    }
})

# ===== Latinoam칠rica - pa칤ses adicionales =====
COUNTRY_MAPPING.update({
    'blz': {
        'name': 'Belice', 'flag': '游游', 'gsc_code': 'blz',
        'serp_location': 'Belmopan, Belize', 'serp_gl': 'bz', 'serp_hl': 'en', 'google_domain': 'google.com.bz'
    },
    'guy': {
        'name': 'Guyana', 'flag': '游섫릖', 'gsc_code': 'guy',
        'serp_location': 'Georgetown, Guyana', 'serp_gl': 'gy', 'serp_hl': 'en', 'google_domain': 'google.gy'
    },
    'sur': {
        'name': 'Surinam', 'flag': '游젏릖', 'gsc_code': 'sur',
        'serp_location': 'Paramaribo, Suriname', 'serp_gl': 'sr', 'serp_hl': 'nl', 'google_domain': 'google.sr'
    },
    'hti': {
        'name': 'Hait칤', 'flag': '游쇓릖', 'gsc_code': 'hti',
        'serp_location': 'Port-au-Prince, Haiti', 'serp_gl': 'ht', 'serp_hl': 'fr', 'google_domain': 'google.ht'
    }
})

def get_country_config(gsc_country_code):
    """Obtiene configuraci칩n de pa칤s para SERP API basado en c칩digo GSC"""
    return COUNTRY_MAPPING.get(gsc_country_code.lower())

def get_country_name(gsc_country_code):
    """Obtiene nombre legible del pa칤s"""
    config = get_country_config(gsc_country_code)
    return config['name'] if config else gsc_country_code.upper()

def get_country_flag(gsc_country_code):
    """Obtiene bandera del pa칤s"""
    config = get_country_config(gsc_country_code)
    return config['flag'] if config else '游깴'  # Bandera mundial por defecto